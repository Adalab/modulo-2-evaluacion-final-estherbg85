const l=document.querySelector(".js_charactersUl"),p=document.querySelector(".js_favoritesUl"),g=document.querySelector(".js_btnSearch"),f=document.querySelector(".js_searchInput"),u=document.querySelector(".js_favorites_characters"),m=document.querySelector(".js_characters"),_=document.querySelector(".js_btndelete"),y=document.querySelector(".js_header"),c=document.createElement("img");c.className="header_img";c.src="https://wallpapers.com/images/high/pink-purple-disneyland-castle-stars-ml4sl6nyo7u6e9ve.webp";c.alt="castillo disney de noche";c.id="image01";c.dataset.invent="imagen001";y.appendChild(c);let s=[],r=[];const d=(t,e)=>`
        <li class="js_characters_item characters_item ${e}" id="${t._id}">
            <img class="characters_img" src="${t.imageUrl}"/>
            <h2 class="characters_name">${t.name}</h2>
        </li>`,h=t=>{let e="";for(const a of t)r.find(v=>v._id===a._id)===void 0?e+=d(a,""):e+=d(a,"favorite");l.innerHTML=e;const n=document.querySelectorAll(".js_characters_item");for(const a of n)a.addEventListener("click",L)},i=()=>{let t="";for(const e of r)t+=d(e,"favorite");p.innerHTML=t,S()},S=()=>{r.length===0?(u.classList.add("display"),m.classList.add("without_favorites"),l.classList.add("favoritesul")):(u.classList.remove("display"),m.classList.remove("without_favorites"),l.classList.remove("favoritesul"))},L=t=>{t.currentTarget.classList.toggle("favorite");const e=parseInt(t.currentTarget.id),n=s.find(o=>o._id===e),a=r.findIndex(o=>o._id===e);a===-1?(r.push(n),i()):(r.splice(a,1),i()),localStorage.setItem("charactersFavs",JSON.stringify(r))};g.addEventListener("click",t=>{t.preventDefault(),fetch("https://api.disneyapi.dev/character?"+new URLSearchParams({pageSize:"50",name:f.value})).then(e=>e.json()).then(e=>{console.log(e.info.count),e.info.count===1?(s=[],s.push(e.data)):s=e.data,console.log(e),s.forEach(a=>{a.imageUrl===void 0&&(a.imageUrl="https://placehold.co/400x400/ffffff/555555?text=Disney")}),h(s)}),f.value=""});_.addEventListener("click",t=>{t.preventDefault(),r=[],i(),h(s)});fetch("https://api.disneyapi.dev/character?pageSize=50").then(t=>t.json()).then(t=>{s=t.data,s.forEach(e=>{e.imageUrl===void 0&&(e.imageUrl="https://placehold.co/400x400/ffffff/555555?text=Disney")}),h(s)});localStorage.getItem("charactersFavs")!==null&&(r=JSON.parse(localStorage.getItem("charactersFavs")),i());
//# sourceMappingURL=main.js.map
